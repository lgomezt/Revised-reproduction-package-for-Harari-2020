version 13
cap restore
cap log close
clear all
set more off
set matsize 9000

*=================================================================================================*
** Set up
*=================================================================================================*

**********************************************************************************
************************************ Paths ***************************************
**********************************************************************************

global resultsfolder ".\Out\"
global datafoldernew ".\Data\"

**********************************************************************************
************************************ Tablesout ***********************************
**********************************************************************************

****** Table 1, panel B, descriptive stats long difference (1950, 2010 levels, and long diff)
* Table1PanelB_SummStats_LD_Diff.log


*=================================================================================================*
** Summary stats
*=================================================================================================*

**********************************************************************************
********************************** Set up ****************************************
**********************************************************************************

use "$datafoldernew\CityShape_Main.dta", clear

* Sample: 351 cities
keep if insample_IV_5010==1

local y disconnect

local mylist area_polyg_km `y'_km r1_relev_`y'_cls_km  TOTAL_pop_all 

**********************************************************************************
**************************** Sum stats levels  ***********************************
**********************************************************************************

keep if year==1950 | year==2010

log using "$resultsfolder/Table1PanelB_SumStatsLD.log", replace 
	di "year = 1950" 
	eststo year1: estpost tabstat `mylist' if year==1950, stat(mean sd count) columns(statistics)
		
	di "year = 2010" 
	eststo year2: estpost tabstat `mylist' if year==2010, stat(mean sd count) columns(statistics) listwise
log close

**********************************************************************************
***************************** Sum stats diff  ************************************
**********************************************************************************

keep id year `mylist'
reshape wide `mylist', i(id) j(year)
foreach j in `mylist' {
	gen `j'_5010=`j'2010-`j'1950
}

eststo diff: estpost tabstat *5010, stat(mean sd count) columns(statistics)

**********************************************************************************
****************************** Create table **************************************
**********************************************************************************

log using "$resultsfolder/Table1PanelB_SumStatsLD.log", append 
	tabstat *5010, stat(count mean median sd min max) save
log close 
**********************************************************************************
**********************************************************************************
**********************************************************************************

* end
